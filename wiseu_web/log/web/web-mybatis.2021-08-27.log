08-27 10:18:32.095 ttp-nio-18084-exec-1 User.selectAdminByAdminId
08-27 10:18:32.185 ttp-nio-18084-exec-1 ==>  Preparing: SELECT a.user_id, a.pass_wd, a.pass_salt, a.grp_cd, a.name_kor, a.name_eng, a.tel_no, a.email, a.user_class, a.usertype_cd, a.lastupdate_dt, a.active_yn, a.accept_yn , a.list_count_per_page, a.soeid, a.geid, a.isa_role, a.work_doc, a.user_role, a.create_user, a.permit_sts, a.permit_dt, a.login_cnt, a.lastlogin_dt , b.grp_nm, b.req_dept_id as req_dept, a.user_id as req_user FROM nvuser a, nvusergrp b WHERE a.grp_cd = b.grp_cd AND a.user_id = ? AND a.active_yn = 'Y' AND a.accept_yn = 'Y' 
08-27 10:18:32.186 ttp-nio-18084-exec-1 ==> Parameters: admin(String)
08-27 10:18:32.360 ttp-nio-18084-exec-1 <==      Total: 1
08-27 10:18:32.362 ttp-nio-18084-exec-1 Menu.selectRoleMap
08-27 10:18:32.362 ttp-nio-18084-exec-1 ==>  Preparing: SELECT a.menu_link_url, a.menu_cd, b.read_auth, b.write_auth, b.execute_auth FROM nvmenu a, nvmenurole b WHERE a.menu_cd = b.menu_cd AND a.menu_link_url IS NOT NULL AND b.user_id = ? 
08-27 10:18:32.362 ttp-nio-18084-exec-1 ==> Parameters: admin(String)
08-27 10:18:32.481 ttp-nio-18084-exec-1 <==      Total: 46
08-27 10:18:32.482 ttp-nio-18084-exec-1 User.updateLoginFailCountToInitial
08-27 10:18:32.482 ttp-nio-18084-exec-1 ==>  Preparing: UPDATE nvuser SET login_cnt = '0', lastlogin_dt = to_char(sysdate, 'yyyyMMdd') WHERE user_id = ? 
08-27 10:18:32.514 ttp-nio-18084-exec-1 ==> Parameters: admin(String)
08-27 10:18:32.582 ttp-nio-18084-exec-1 <==    Updates: 1
08-27 10:18:32.583 ttp-nio-18084-exec-1 MenuRole.getUserMenuList
08-27 10:18:32.583 ttp-nio-18084-exec-1 ==>  Preparing: SELECT a.user_id, a.menu_cd, a.read_auth, a.write_auth, a.execute_auth, b.menu_link_url FROM nvmenurole a, nvmenu b WHERE a.menu_cd = b.menu_cd AND a.user_id = ? AND b.active_yn = 'Y' AND b.pmenu_cd IS NOT NULL ORDER BY menu_cd, sort_no 
08-27 10:18:32.584 ttp-nio-18084-exec-1 ==> Parameters: admin(String)
08-27 10:18:32.600 ttp-nio-18084-exec-1 <==      Total: 37
08-27 10:18:32.947 ttp-nio-18084-exec-2 Scenario.getScenarioTotalCount
08-27 10:18:32.947 ttp-nio-18084-exec-2 ==>  Preparing: SELECT count(*) FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? 
08-27 10:18:32.947 ttp-nio-18084-exec-2 ==> Parameters: 20200827(String), 20210827(String)
08-27 10:18:33.019 ttp-nio-18084-exec-2 <==      Total: 1
08-27 10:18:33.020 ttp-nio-18084-exec-2 Scenario.getCampaignScenarioList
08-27 10:18:33.020 ttp-nio-18084-exec-2 ==>  Preparing: SELECT coalesce(scenario_no,0) scenario_no, user_id, grp_cd, scenario_nm, finish_yn , (SELECT grp_nm FROM nvusergrp WHERE grp_cd = x.grp_cd) grp_nm , (SELECT name_kor FROM nvuser WHERE user_id = x.user_id) name_kor , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100111' AND cd = x.campaign_sts AND lang = ?) campaign_sts_nm , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100221' AND cd = x.relation_type AND lang = ?) relation_type_nm , to_char(to_date(create_dt, 'yyyymmdd'), 'yy-mm-dd') create_dt , coalesce(campaign_no,0) campaign_no, coalesce(campaign_preface,'') campaign_preface , CASE WHEN sendstart_dtm = '' THEN '' ELSE to_char(to_date(sendstart_dtm, 'yyyymmddhh24miss'), 'yy-mm-dd hh24:mi') END sendstart_dtm , CASE WHEN campaign_sts = 'P' THEN (CASE WHEN approval_sts IS NULL THEN campaign_sts ELSE approval_sts END) ELSE campaign_sts END campaign_sts , relation_type, coalesce(depth_no,0) depth_no, channel_type, campaign_level , divide_yn, ab_test_type, campaign_preface_ab, coalesce(segment_no,-1) segment_no, relation_tree , tag_nm, coalesce(result_seq,0) result_seq, coalesce(segment_size,0) target_cnt FROM ( SELECT row_number() OVER(ORDER BY a.scenario_no DESC, c.relation_tree, c.campaign_no) rnum , a.scenario_no, a.user_id, a.grp_cd, a.scenario_nm, a.scenario_type, a.finish_yn, a.create_dt, b.tag_nm , c.campaign_no, c.campaign_preface, concat(coalesce(c.sendstart_dt,''), coalesce(c.sendstart_tm,'')) sendstart_dtm , c.campaign_sts, c.approval_sts, c.relation_type, c.depth_no, c.channel_type, c.campaign_level , c.divide_yn, c.ab_test_type, c.campaign_preface_ab, c.segment_no, c.relation_tree , d.result_seq, e.segment_size FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no LEFT OUTER JOIN nvsegment e ON c.segment_no = e.segment_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? ORDER BY a.scenario_no DESC, relation_tree, c.campaign_no DESC ) x WHERE rnum >= ((? - 1) * ? + 1) AND rnum <= ? * ? ORDER BY scenario_no DESC, relation_tree, campaign_no DESC 
08-27 10:18:33.021 ttp-nio-18084-exec-2 ==> Parameters: ko(String), ko(String), 20200827(String), 20210827(String), 1(Integer), 10(Integer), 1(Integer), 10(Integer)
08-27 10:18:33.212 ttp-nio-18084-exec-2 <==      Total: 10
08-27 10:21:36.969 ttp-nio-18084-exec-4 Scenario.getScenarioTotalCount
08-27 10:21:36.969 ttp-nio-18084-exec-4 ==>  Preparing: SELECT count(*) FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? 
08-27 10:21:36.969 ttp-nio-18084-exec-4 ==> Parameters: 20200827(String), 20210827(String)
08-27 10:21:36.972 ttp-nio-18084-exec-4 <==      Total: 1
08-27 10:21:36.973 ttp-nio-18084-exec-4 Scenario.getCampaignScenarioList
08-27 10:21:36.973 ttp-nio-18084-exec-4 ==>  Preparing: SELECT coalesce(scenario_no,0) scenario_no, user_id, grp_cd, scenario_nm, finish_yn , (SELECT grp_nm FROM nvusergrp WHERE grp_cd = x.grp_cd) grp_nm , (SELECT name_kor FROM nvuser WHERE user_id = x.user_id) name_kor , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100111' AND cd = x.campaign_sts AND lang = ?) campaign_sts_nm , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100221' AND cd = x.relation_type AND lang = ?) relation_type_nm , to_char(to_date(create_dt, 'yyyymmdd'), 'yy-mm-dd') create_dt , coalesce(campaign_no,0) campaign_no, coalesce(campaign_preface,'') campaign_preface , CASE WHEN sendstart_dtm = '' THEN '' ELSE to_char(to_date(sendstart_dtm, 'yyyymmddhh24miss'), 'yy-mm-dd hh24:mi') END sendstart_dtm , CASE WHEN campaign_sts = 'P' THEN (CASE WHEN approval_sts IS NULL THEN campaign_sts ELSE approval_sts END) ELSE campaign_sts END campaign_sts , relation_type, coalesce(depth_no,0) depth_no, channel_type, campaign_level , divide_yn, ab_test_type, campaign_preface_ab, coalesce(segment_no,-1) segment_no, relation_tree , tag_nm, coalesce(result_seq,0) result_seq, coalesce(segment_size,0) target_cnt FROM ( SELECT row_number() OVER(ORDER BY a.scenario_no DESC, c.relation_tree, c.campaign_no) rnum , a.scenario_no, a.user_id, a.grp_cd, a.scenario_nm, a.scenario_type, a.finish_yn, a.create_dt, b.tag_nm , c.campaign_no, c.campaign_preface, concat(coalesce(c.sendstart_dt,''), coalesce(c.sendstart_tm,'')) sendstart_dtm , c.campaign_sts, c.approval_sts, c.relation_type, c.depth_no, c.channel_type, c.campaign_level , c.divide_yn, c.ab_test_type, c.campaign_preface_ab, c.segment_no, c.relation_tree , d.result_seq, e.segment_size FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no LEFT OUTER JOIN nvsegment e ON c.segment_no = e.segment_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? ORDER BY a.scenario_no DESC, relation_tree, c.campaign_no DESC ) x WHERE rnum >= ((? - 1) * ? + 1) AND rnum <= ? * ? ORDER BY scenario_no DESC, relation_tree, campaign_no DESC 
08-27 10:21:36.973 ttp-nio-18084-exec-4 ==> Parameters: ko(String), ko(String), 20200827(String), 20210827(String), 1(Integer), 10(Integer), 1(Integer), 10(Integer)
08-27 10:21:36.975 ttp-nio-18084-exec-4 <==      Total: 10
08-27 10:22:55.767 ttp-nio-18084-exec-8 Scenario.selectScenarioBasicInfo
08-27 10:22:55.767 ttp-nio-18084-exec-8 ==>  Preparing: SELECT a.scenario_no, a.user_id, a.grp_cd, a.scenario_nm, a.scenario_desc, a.scenario_type, a.create_dt, a.create_tm, a.lastupdate_dt, a.lastupdate_tm , a.finish_yn, a.finish_dt, a.tag_no, a.handler_type, b.campaign_no, b.segment_no, b.campaign_nm, b.campaign_desc, b.campaign_preface, b.campaign_sts , b.campaign_type, b.sendstart_dt, b.sendstart_tm, b.target_cnt, b.survey_no, coalesce(b.retry_cnt,1) retry_cnt, b.sender_nm, b.sender_email, b.receiver_nm, b.sender_tel , b.retmail_receiver, b.channel_type, b.promotion_type, b.campaign_level, b.depth_no, b.approval_sts, b.req_dept_id req_dept, b.req_user_id req_user, b.divide_yn, b.divide_interval , coalesce(b.divide_cnt,0) divide_cnt, b.ab_test_type, b.ab_test_cond, coalesce(b.ab_test_rate,0) ab_test_rate, b.campaign_preface_ab , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100111' AND cd = b.campaign_sts AND lang = ?) campaign_sts_nm , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100121' AND cd = b.approval_sts AND lang = ?) approval_sts_nm , (CASE WHEN b.channel_type = 'm' THEN 4 WHEN b.channel_type = 's' THEN 3 WHEN b.channel_type = 't' THEN 2 ELSE 1 END) seq , c.tag_nm, d.grp_nm, e.name_kor, f.supracampaign_no, '' req_grp_nm FROM nvscenario a, nvcampaign b, nvcamptag c, nvusergrp d, nvuser e, nvschedule f WHERE a.scenario_no = b.scenario_no AND a.tag_no = c.tag_no AND a.grp_cd = d.grp_cd AND a.user_id = e.user_id AND b.campaign_no = f.campaign_no AND a.scenario_no = ? AND b.campaign_no = ? ORDER BY seq DESC 
08-27 10:22:55.767 ttp-nio-18084-exec-8 ==> Parameters: ko(String), ko(String), 14(Integer), 10(Integer)
08-27 10:22:56.187 ttp-nio-18084-exec-8 <==      Total: 1
08-27 10:22:56.252 ttp-nio-18084-exec-8 Scenario.selectOmniChannelCampaigns
08-27 10:22:56.253 ttp-nio-18084-exec-8 ==>  Preparing: SELECT c.scenario_no, c.scenario_nm, c.campaign_no, c.depth_no, c.channel_type, c.relation_type , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100111' AND cd = c.campaign_sts AND lang = ?) campaign_sts_nm , concat(c.sendstart_dt, c.sendstart_tm) as sendstart_dtm, d.segment_size as target_cnt FROM ( SELECT a.scenario_no, a.scenario_nm, b.campaign_no, b.segment_no, b.depth_no, b.channel_type, b.relation_type, b.campaign_sts, b.sendstart_dt, b.sendstart_tm, b.relation_tree FROM nvscenario a, nvcampaign b WHERE a.scenario_no = b.scenario_no AND a.scenario_no = (SELECT scenario_no FROM nvcampaign WHERE campaign_no = ?) AND b.relation_type IN ('N', 'S', 'F', 'O') ) c LEFT OUTER JOIN nvsegment d ON c.segment_no = d.segment_no ORDER BY rpad( c.relation_tree , (SELECT max(depth_no) FROM nvcampaign WHERE scenario_no = (SELECT scenario_no FROM nvcampaign WHERE campaign_no = ?)) , 0 ), c.campaign_no 
08-27 10:22:56.253 ttp-nio-18084-exec-8 ==> Parameters: ko(String), 10(Integer), 10(Integer)
08-27 10:22:56.400 ttp-nio-18084-exec-8 <==      Total: 3
08-27 13:28:11.863 ttp-nio-18084-exec-6 User.selectAdminByAdminId
08-27 13:28:11.893 ttp-nio-18084-exec-6 ==>  Preparing: SELECT a.user_id, a.pass_wd, a.pass_salt, a.grp_cd, a.name_kor, a.name_eng, a.tel_no, a.email, a.user_class, a.usertype_cd, a.lastupdate_dt, a.active_yn, a.accept_yn , a.list_count_per_page, a.soeid, a.geid, a.isa_role, a.work_doc, a.user_role, a.create_user, a.permit_sts, a.permit_dt, a.login_cnt, a.lastlogin_dt , b.grp_nm, b.req_dept_id as req_dept, a.user_id as req_user FROM nvuser a, nvusergrp b WHERE a.grp_cd = b.grp_cd AND a.user_id = ? AND a.active_yn = 'Y' AND a.accept_yn = 'Y' 
08-27 13:28:11.894 ttp-nio-18084-exec-6 ==> Parameters: admin(String)
08-27 13:28:11.949 ttp-nio-18084-exec-6 <==      Total: 1
08-27 13:28:12.041 ttp-nio-18084-exec-6 Menu.selectRoleMap
08-27 13:28:12.041 ttp-nio-18084-exec-6 ==>  Preparing: SELECT a.menu_link_url, a.menu_cd, b.read_auth, b.write_auth, b.execute_auth FROM nvmenu a, nvmenurole b WHERE a.menu_cd = b.menu_cd AND a.menu_link_url IS NOT NULL AND b.user_id = ? 
08-27 13:28:12.041 ttp-nio-18084-exec-6 ==> Parameters: admin(String)
08-27 13:28:12.163 ttp-nio-18084-exec-6 <==      Total: 46
08-27 13:28:12.164 ttp-nio-18084-exec-6 User.updateLoginFailCountToInitial
08-27 13:28:12.164 ttp-nio-18084-exec-6 ==>  Preparing: UPDATE nvuser SET login_cnt = '0', lastlogin_dt = to_char(sysdate, 'yyyyMMdd') WHERE user_id = ? 
08-27 13:28:12.164 ttp-nio-18084-exec-6 ==> Parameters: admin(String)
08-27 13:28:12.273 ttp-nio-18084-exec-6 <==    Updates: 1
08-27 13:28:12.305 ttp-nio-18084-exec-6 MenuRole.getUserMenuList
08-27 13:28:12.305 ttp-nio-18084-exec-6 ==>  Preparing: SELECT a.user_id, a.menu_cd, a.read_auth, a.write_auth, a.execute_auth, b.menu_link_url FROM nvmenurole a, nvmenu b WHERE a.menu_cd = b.menu_cd AND a.user_id = ? AND b.active_yn = 'Y' AND b.pmenu_cd IS NOT NULL ORDER BY menu_cd, sort_no 
08-27 13:28:12.305 ttp-nio-18084-exec-6 ==> Parameters: admin(String)
08-27 13:28:12.307 ttp-nio-18084-exec-6 <==      Total: 37
08-27 13:28:12.425 ttp-nio-18084-exec-4 Scenario.getScenarioTotalCount
08-27 13:28:12.426 ttp-nio-18084-exec-4 ==>  Preparing: SELECT count(*) FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? 
08-27 13:28:12.426 ttp-nio-18084-exec-4 ==> Parameters: 20200827(String), 20210827(String)
08-27 13:28:12.987 ttp-nio-18084-exec-4 <==      Total: 1
08-27 13:28:12.988 ttp-nio-18084-exec-4 Scenario.getCampaignScenarioList
08-27 13:28:12.988 ttp-nio-18084-exec-4 ==>  Preparing: SELECT coalesce(scenario_no,0) scenario_no, user_id, grp_cd, scenario_nm, finish_yn , (SELECT grp_nm FROM nvusergrp WHERE grp_cd = x.grp_cd) grp_nm , (SELECT name_kor FROM nvuser WHERE user_id = x.user_id) name_kor , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100111' AND cd = x.campaign_sts AND lang = ?) campaign_sts_nm , (SELECT val FROM nv_cd_mst WHERE cd_cat = '100221' AND cd = x.relation_type AND lang = ?) relation_type_nm , to_char(to_date(create_dt, 'yyyymmdd'), 'yy-mm-dd') create_dt , coalesce(campaign_no,0) campaign_no, coalesce(campaign_preface,'') campaign_preface , CASE WHEN sendstart_dtm = '' THEN '' ELSE to_char(to_date(sendstart_dtm, 'yyyymmddhh24miss'), 'yy-mm-dd hh24:mi') END sendstart_dtm , CASE WHEN campaign_sts = 'P' THEN (CASE WHEN approval_sts IS NULL THEN campaign_sts ELSE approval_sts END) ELSE campaign_sts END campaign_sts , relation_type, coalesce(depth_no,0) depth_no, channel_type, campaign_level , divide_yn, ab_test_type, campaign_preface_ab, coalesce(segment_no,-1) segment_no, relation_tree , tag_nm, coalesce(result_seq,0) result_seq, coalesce(segment_size,0) target_cnt FROM ( SELECT row_number() OVER(ORDER BY a.scenario_no DESC, c.relation_tree, c.campaign_no) rnum , a.scenario_no, a.user_id, a.grp_cd, a.scenario_nm, a.scenario_type, a.finish_yn, a.create_dt, b.tag_nm , c.campaign_no, c.campaign_preface, concat(coalesce(c.sendstart_dt,''), coalesce(c.sendstart_tm,'')) sendstart_dtm , c.campaign_sts, c.approval_sts, c.relation_type, c.depth_no, c.channel_type, c.campaign_level , c.divide_yn, c.ab_test_type, c.campaign_preface_ab, c.segment_no, c.relation_tree , d.result_seq, e.segment_size FROM nvscenario a, nvcamptag b, nvcampaign c LEFT OUTER JOIN nvsendresult d ON c.campaign_no = d.campaign_no LEFT OUTER JOIN nvsegment e ON c.segment_no = e.segment_no WHERE a.tag_no = b.tag_no AND a.scenario_no = c.scenario_no AND d.resend_sts is null AND c.use_yn = 'Y' AND a.create_dt >= ? AND a.create_dt <= ? ORDER BY a.scenario_no DESC, relation_tree, c.campaign_no DESC ) x WHERE rnum >= ((? - 1) * ? + 1) AND rnum <= ? * ? ORDER BY scenario_no DESC, relation_tree, campaign_no DESC 
08-27 13:28:12.988 ttp-nio-18084-exec-4 ==> Parameters: ko(String), ko(String), 20200827(String), 20210827(String), 1(Integer), 10(Integer), 1(Integer), 10(Integer)
08-27 13:28:13.360 ttp-nio-18084-exec-4 <==      Total: 10
